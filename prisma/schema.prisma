generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  username  String  @unique
  firstName String
  lastName  String
  email     String  @unique
  password  String
  level     Int     @default(1)
  uid       String  @unique @default(dbgenerated("('UID'::text || lpad((nextval('activities_id_seq'::regclass))::text, 6, '0'::text))"))
  exp       Int     @default(0)
  id        Int     @id @default(autoincrement())
  scores    Score[]
}

model Activities {
  topic      String
  activity   String
  desc       String
  aid        String         @unique @default(dbgenerated("('AID'::text || lpad((nextval('activities_id_seq'::regclass))::text, 6, '0'::text))"))
  img        String         @default("https://edukasyon-production.s3.amazonaws.com/uploads/facility/image/5321/j4d6loBhPR2zRk4gtnAB75GWqmq2ZXkr.jpg")
  video      String
  id         Int            @id @default(autoincrement())
  type       Int            @default(0)
  imagematch ImageMatch[]
  questions  QuizQuestion[]
  scores     Score[]
}

model Score {
  id                Int        @id @default(autoincrement())
  score             Int
  timeFinished      Int
  activityId        String
  userId            String
  userId_activityId String     @unique
  activity          Activities @relation(fields: [activityId], references: [aid])
  user              User       @relation(fields: [userId], references: [uid])
}

model QuizQuestion {
  id             Int        @id @default(autoincrement())
  activityId     String
  correct_option String
  option_four    String
  option_one     String
  option_three   String
  option_two     String
  quiz_question  String
  activity       Activities @relation(fields: [activityId], references: [aid])
}

model ImageMatch {
  id         Int              @id @default(autoincrement())
  title      String
  activityID String
  activity   Activities       @relation(fields: [activityID], references: [aid])
  images     ImageMatchPics[]
}

model ImageMatchPics {
  id     Int        @id @default(autoincrement())
  url    String
  value  Boolean
  gameID Int
  game   ImageMatch @relation(fields: [gameID], references: [id])
}
